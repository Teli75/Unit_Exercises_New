{"ast":null,"code":"var _jsxFileName = \"/Users/ehernandez12/Documents/TechDegree/Unit_Exercises/Unit_7/React-Components/STAGE-1-Build-Modular-Interfaces-with-Components/3-Setting-Up-With-Create-React-App/BEGIN/scoreboard/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Player from \"./Player\";\nimport AddPlayerForm from \"./AddPlayerForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [players, setPlayers] = useState([{\n    name: \"Guil\",\n    score: 0,\n    id: 1\n  }, {\n    name: \"Treasure\",\n    score: 0,\n    id: 2\n  }, {\n    name: \"Ashley\",\n    score: 0,\n    id: 3\n  }, {\n    name: \"James\",\n    score: 0,\n    id: 4\n  }]); //const [nextPlayerId, setNextPlayerId] = useState(5);\n\n  const [highScore, setHighScore] = useState();\n  const nextPlayerId = useRef(5);\n  useEffect(() => {\n    const scores = players.map(player => player.score);\n    setHighScore(Math.max(...scores));\n  });\n\n  const handleRemovePlayer = id => {\n    setPlayers(prevPlayers => prevPlayers.filter(p => p.id !== id));\n  };\n\n  const handleScoreChange = (id, delta) => {\n    setPlayers(prevPlayers => prevPlayers.map(player => {\n      if (player.id === id) {\n        return {\n          name: player.name,\n          score: player.score + delta,\n          id: player.id\n        };\n      }\n\n      return player;\n    }));\n  };\n\n  const handleAddPlayer = name => {\n    /* pass setPlayers a function that receives prevPlayers, then use the\n    spread operator to bring in a copy of the exisiting player objects\n    in state into this updated players array. This merges the existing\n    objects in the orig player state with the new array being created here.\n    That way we are not modifying/mutating the orig players array */\n    setPlayers(prevPlayers => [...prevPlayers, {\n      name,\n      score: 0,\n      id: nextPlayerId.current++\n    }]); //nextPlayerId.current +=1\n    //Increments NextPlayer\n    //setNextPlayerId(prevId => prevId + 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scoreboard\",\n    children: [/*#__PURE__*/_jsxDEV(Header //We can ommit title because of the default prop in Header.js\n    //title=\"Scoreboard\"\n    , {\n      players: players\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), players.map(player => /*#__PURE__*/_jsxDEV(Player, {\n      name: player.name,\n      score: player.score,\n      id: player.id,\n      removePlayer: handleRemovePlayer,\n      changeScore: handleScoreChange\n    }, player.id.toString(), false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(AddPlayerForm, {\n      addPlayer: handleAddPlayer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"0BbCzsRdc6wVxIt/zFvXM12gV2A=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Header","Player","AddPlayerForm","App","players","setPlayers","name","score","id","highScore","setHighScore","nextPlayerId","scores","map","player","Math","max","handleRemovePlayer","prevPlayers","filter","p","handleScoreChange","delta","handleAddPlayer","current","toString"],"sources":["/Users/ehernandez12/Documents/TechDegree/Unit_Exercises/Unit_7/React-Components/STAGE-1-Build-Modular-Interfaces-with-Components/3-Setting-Up-With-Create-React-App/BEGIN/scoreboard/src/components/App.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport Header from \"./Header\"\nimport Player from \"./Player\";\nimport AddPlayerForm from \"./AddPlayerForm\";\n\n\nconst App = () => {\n  const [players, setPlayers] = useState([\n    {\n      name: \"Guil\",\n      score: 0,\n      id: 1\n    },\n    {\n      name: \"Treasure\",\n      score: 0,\n      id: 2\n    },\n    {\n      name: \"Ashley\",\n      score: 0,\n      id: 3\n    },\n    {\n      name: \"James\",\n      score: 0,\n      id: 4\n    }\n  ]);\n\n  //const [nextPlayerId, setNextPlayerId] = useState(5);\n  const [highScore, setHighScore] = useState();\n  const nextPlayerId = useRef(5);\n\n  useEffect(() => {\n    const scores = players.map(player => player.score);\n    setHighScore(Math.max(...scores));\n  });\n\n  const handleRemovePlayer = (id) => {\n    setPlayers(prevPlayers => prevPlayers.filter(p => p.id !== id));\n  }\n\n\n  const handleScoreChange = (id, delta) => {\n      setPlayers(prevPlayers => prevPlayers.map( player => {\n        if (player.id === id){\n          return {\n            name: player.name,\n            score: player.score + delta,\n            id: player.id\n          }\n        }\n        return player;\n      }));\n    }\n\n  const handleAddPlayer = (name) => {\n    /* pass setPlayers a function that receives prevPlayers, then use the\n    spread operator to bring in a copy of the exisiting player objects\n    in state into this updated players array. This merges the existing\n    objects in the orig player state with the new array being created here.\n    That way we are not modifying/mutating the orig players array */\n    setPlayers(prevPlayers => [\n      ...prevPlayers,\n      {\n        name,\n        score: 0, \n        id: nextPlayerId.current++\n      }\n    ]);\n    //nextPlayerId.current +=1\n    //Increments NextPlayer\n    //setNextPlayerId(prevId => prevId + 1);\n  }\n\n  return (\n    <div className=\"scoreboard\">\n      <Header\n      //We can ommit title because of the default prop in Header.js\n        //title=\"Scoreboard\"\n        players={players}\n      />\n\n      {/* Players list */}\n      {players.map(player =>\n        <Player\n          name={player.name}\n          score={player.score}\n          id={player.id}\n          key={player.id.toString()}\n          removePlayer={handleRemovePlayer}\n          changeScore={handleScoreChange}\n        />\n      )}\n      <AddPlayerForm addPlayer={handleAddPlayer}/>\n    </div>\n  );\n\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;;AAGA,MAAMC,GAAG,GAAG,MAAM;EAAA;;EAChB,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,CACrC;IACEQ,IAAI,EAAE,MADR;IAEEC,KAAK,EAAE,CAFT;IAGEC,EAAE,EAAE;EAHN,CADqC,EAMrC;IACEF,IAAI,EAAE,UADR;IAEEC,KAAK,EAAE,CAFT;IAGEC,EAAE,EAAE;EAHN,CANqC,EAWrC;IACEF,IAAI,EAAE,QADR;IAEEC,KAAK,EAAE,CAFT;IAGEC,EAAE,EAAE;EAHN,CAXqC,EAgBrC;IACEF,IAAI,EAAE,OADR;IAEEC,KAAK,EAAE,CAFT;IAGEC,EAAE,EAAE;EAHN,CAhBqC,CAAD,CAAtC,CADgB,CAwBhB;;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,EAA1C;EACA,MAAMa,YAAY,GAAGd,MAAM,CAAC,CAAD,CAA3B;EAEAE,SAAS,CAAC,MAAM;IACd,MAAMa,MAAM,GAAGR,OAAO,CAACS,GAAR,CAAYC,MAAM,IAAIA,MAAM,CAACP,KAA7B,CAAf;IACAG,YAAY,CAACK,IAAI,CAACC,GAAL,CAAS,GAAGJ,MAAZ,CAAD,CAAZ;EACD,CAHQ,CAAT;;EAKA,MAAMK,kBAAkB,GAAIT,EAAD,IAAQ;IACjCH,UAAU,CAACa,WAAW,IAAIA,WAAW,CAACC,MAAZ,CAAmBC,CAAC,IAAIA,CAAC,CAACZ,EAAF,KAASA,EAAjC,CAAhB,CAAV;EACD,CAFD;;EAKA,MAAMa,iBAAiB,GAAG,CAACb,EAAD,EAAKc,KAAL,KAAe;IACrCjB,UAAU,CAACa,WAAW,IAAIA,WAAW,CAACL,GAAZ,CAAiBC,MAAM,IAAI;MACnD,IAAIA,MAAM,CAACN,EAAP,KAAcA,EAAlB,EAAqB;QACnB,OAAO;UACLF,IAAI,EAAEQ,MAAM,CAACR,IADR;UAELC,KAAK,EAAEO,MAAM,CAACP,KAAP,GAAee,KAFjB;UAGLd,EAAE,EAAEM,MAAM,CAACN;QAHN,CAAP;MAKD;;MACD,OAAOM,MAAP;IACD,CATyB,CAAhB,CAAV;EAUD,CAXH;;EAaA,MAAMS,eAAe,GAAIjB,IAAD,IAAU;IAChC;AACJ;AACA;AACA;AACA;IACID,UAAU,CAACa,WAAW,IAAI,CACxB,GAAGA,WADqB,EAExB;MACEZ,IADF;MAEEC,KAAK,EAAE,CAFT;MAGEC,EAAE,EAAEG,YAAY,CAACa,OAAb;IAHN,CAFwB,CAAhB,CAAV,CANgC,CAchC;IACA;IACA;EACD,CAjBD;;EAmBA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,wBACE,QAAC,MAAD,CACA;IACE;IAFF;MAGE,OAAO,EAAEpB;IAHX;MAAA;MAAA;MAAA;IAAA,QADF,EAQGA,OAAO,CAACS,GAAR,CAAYC,MAAM,iBACjB,QAAC,MAAD;MACE,IAAI,EAAEA,MAAM,CAACR,IADf;MAEE,KAAK,EAAEQ,MAAM,CAACP,KAFhB;MAGE,EAAE,EAAEO,MAAM,CAACN,EAHb;MAKE,YAAY,EAAES,kBALhB;MAME,WAAW,EAAEI;IANf,GAIOP,MAAM,CAACN,EAAP,CAAUiB,QAAV,EAJP;MAAA;MAAA;MAAA;IAAA,QADD,CARH,eAkBE,QAAC,aAAD;MAAe,SAAS,EAAEF;IAA1B;MAAA;MAAA;MAAA;IAAA,QAlBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAuBD,CA7FD;;GAAMpB,G;;KAAAA,G;AA+FN,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}