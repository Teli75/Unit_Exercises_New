{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst path = require('path');\n\nmodule.exports = function sortByIsDirectory(dir, paths, cb) {\n  // take the listing file names in `dir`\n  // returns directory and file array, each entry is\n  // of the array a [name, stat] tuple\n  let pending = paths.length;\n  const errs = [];\n  const dirs = [];\n  const files = [];\n\n  if (!pending) {\n    cb(errs, dirs, files);\n    return;\n  }\n\n  paths.forEach(file => {\n    fs.stat(path.join(dir, file), (err, s) => {\n      if (err) {\n        errs.push([file, err]);\n      } else if (s.isDirectory()) {\n        dirs.push([file, s]);\n      } else {\n        files.push([file, s]);\n      }\n\n      pending -= 1;\n\n      if (pending === 0) {\n        cb(errs, dirs, files);\n      }\n    });\n  });\n};","map":{"version":3,"names":["fs","require","path","module","exports","sortByIsDirectory","dir","paths","cb","pending","length","errs","dirs","files","forEach","file","stat","join","err","s","push","isDirectory"],"sources":["/Users/ehernandez12/node_modules/http-server/lib/core/show-dir/sort-files.js"],"sourcesContent":["'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\n\nmodule.exports = function sortByIsDirectory(dir, paths, cb) {\n  // take the listing file names in `dir`\n  // returns directory and file array, each entry is\n  // of the array a [name, stat] tuple\n  let pending = paths.length;\n  const errs = [];\n  const dirs = [];\n  const files = [];\n\n  if (!pending) {\n    cb(errs, dirs, files);\n    return;\n  }\n\n  paths.forEach((file) => {\n    fs.stat(path.join(dir, file), (err, s) => {\n      if (err) {\n        errs.push([file, err]);\n      } else if (s.isDirectory()) {\n        dirs.push([file, s]);\n      } else {\n        files.push([file, s]);\n      }\n\n      pending -= 1;\n      if (pending === 0) {\n        cb(errs, dirs, files);\n      }\n    });\n  });\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,EAAE,GAAGC,OAAO,CAAC,IAAD,CAAlB;;AACA,MAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,SAASC,iBAAT,CAA2BC,GAA3B,EAAgCC,KAAhC,EAAuCC,EAAvC,EAA2C;EAC1D;EACA;EACA;EACA,IAAIC,OAAO,GAAGF,KAAK,CAACG,MAApB;EACA,MAAMC,IAAI,GAAG,EAAb;EACA,MAAMC,IAAI,GAAG,EAAb;EACA,MAAMC,KAAK,GAAG,EAAd;;EAEA,IAAI,CAACJ,OAAL,EAAc;IACZD,EAAE,CAACG,IAAD,EAAOC,IAAP,EAAaC,KAAb,CAAF;IACA;EACD;;EAEDN,KAAK,CAACO,OAAN,CAAeC,IAAD,IAAU;IACtBf,EAAE,CAACgB,IAAH,CAAQd,IAAI,CAACe,IAAL,CAAUX,GAAV,EAAeS,IAAf,CAAR,EAA8B,CAACG,GAAD,EAAMC,CAAN,KAAY;MACxC,IAAID,GAAJ,EAAS;QACPP,IAAI,CAACS,IAAL,CAAU,CAACL,IAAD,EAAOG,GAAP,CAAV;MACD,CAFD,MAEO,IAAIC,CAAC,CAACE,WAAF,EAAJ,EAAqB;QAC1BT,IAAI,CAACQ,IAAL,CAAU,CAACL,IAAD,EAAOI,CAAP,CAAV;MACD,CAFM,MAEA;QACLN,KAAK,CAACO,IAAN,CAAW,CAACL,IAAD,EAAOI,CAAP,CAAX;MACD;;MAEDV,OAAO,IAAI,CAAX;;MACA,IAAIA,OAAO,KAAK,CAAhB,EAAmB;QACjBD,EAAE,CAACG,IAAD,EAAOC,IAAP,EAAaC,KAAb,CAAF;MACD;IACF,CAbD;EAcD,CAfD;AAgBD,CA9BD"},"metadata":{},"sourceType":"script"}